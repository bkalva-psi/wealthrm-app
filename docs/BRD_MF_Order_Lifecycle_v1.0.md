# Business Requirement Document (BRD): Mutual Fund Order Life Cycle Management

**Version:** v1.0  
**Date:** 13-Nov-2025  
**Prepared for:** Order Management – Mutual Funds  
**Prepared by:** Solution Design (Generated by GPT-5 Pro based on the provided project knowledge base)

---

## Document Control

- **Purpose:** Define comprehensive business requirements to build an enterprise-grade application for managing the mutual fund order life cycle across RM Portal, Client Portal and Operations.  
- **Scope:** Order capture, authorization, 2FA, routing, settlement notifications, systematic instructions, reports/MIS, validations, UI/UX, access control, and integrations.  
- **Out of Scope:** Transmission (per SEBI nominee circular), detailed exchange platform specifications (e.g., BSE Star exact APIs) and non-MF products.

## Executive Summary

This BRD consolidates requirements across 30+ internal specifications for SBI/HSBC/360ONE/JBR journeys, removes duplicates and aligns to the latest changes, including:

- Two-Factor Authentication (2FA) for inflow & outflow, OTP flows, MIS and folio/CBS source-of-truth.  
- Amount-based transactions for Redemption/Switch and Full Redemption/Full Switch behavior.  
- Nomination & holding pattern capture and SEBI nominee change impacts (Phase-1).  
- Removal of Order Expiry logic and updated cut-off/disclaimer handling.  
- RTA mapping updates (CAMS/KFintech) including IP/date/time stamping, bank field mapping and conditional mandatory logic.  
- Order Book visibility by role, supervisor authorization flow, and settlement notifications.  
- Systematic plan dashboards (SIP/STP/SWP), running/failed status and reattempt design.  
- UI/UX streamlining (field removals; overlays; filters; terms & conditions; masking).

## Stakeholders & User Roles

- **RM (Relationship Manager):** Captures/edits orders, submits for authorization, views Order Book.  
- **Supervisor/Approver:** Claims, reviews, authorizes/rejects, releases to queue.  
- **Operations:** Downloads MIS/2FA reports, downloads transaction slips (where applicable), monitors systematic plans, manages integrations.  
- **Client (Client Portal):** Places/authorizes orders (OTP), views holdings/reports, sets up SIP/STP/SWP.  
- **Integration/API Team:** Implements Save2/finalorderforsubmission, RTA APIs/feeds, bank/PG interfaces.

## Glossary

- **RTA:** Registrar & Transfer Agent (CAMS, KFintech).  
- **CFF:** Common Feed File to RTA (e.g., CAMS 168/200; KFintech 250).  
- **EUIN:** Employee Unique Identification Number.  
- **SIP/STP/SWP:** Systematic investment/transfer/withdrawal plans.

## Assumptions & Dependencies

- CRISIL product master fields available for validations (min/max, balances, frequency, etc.).  
- Daily Folio/Investor master files available for 2FA & routing decisions.  
- Fund cut-off times maintained at security level.  
- Batch schedulers available for reattempts and systematic jobs.  
- Payment Gateway references are available for reconciliation and RTA mapping.

---

## 1\. End-to-End Business Process Flow (High Level)

1. **Order Initiation** (RM Portal or Client Portal)  
   - Product selection → Existing Holding/Other Funds → Choose transaction type (Subscription/Redemption/Switch/SIP/STP/SWP).  
   - For physical mode, document uploads (TIFF) where mandated.  
2. **Order Capture & Review**  
   - Product Cart with Investment/Settlement accounts, Branch code, Mode of transaction, Nominee/Holding/Dividend info, and overlays for Scheme/Order/Docs/Deviation.  
   - Amount-based options for Redemption/Switch; Full Redemption/Switch toggles where applicable.  
3. **2FA & Disclaimers**  
   - Client Portal usage of OTP for inflows/outflows per rules, masked mobile display; T\&C consent prior to OTP.  
4. **Submission & Authorization**  
   - RM submits; order moves to Supervisor Approval; supervisor can claim/release/reject/authorize.  
5. **Routing & Payments**  
   - App → Save2 (model order, payment refs) → finalorderforsubmission (RTARefNo, success/failure).  
   - RTA API/CFF with bank/IP fields and flags (full redemption/switch, fund option/dividend instructions).  
6. **Settlement & Notifications**  
   - Email/SMS on settled/rejected; status reflected in Order Book.  
7. **Systematic Plans**  
   - Setup, dashboards, running/failed status; reattempt jobs for failures (configurable); cancellation/modification.  
8. **Reports/MIS**  
   - 2FA MIS, Systematic Plan Status, client reports with nominee display per SEBI changes.

---

## 2\. Detailed Business Requirements

### 2.1 Order Capture (RM Portal)

- Provide **Mode of Transaction** (Physical/Email/Telephone); for **Physical**, support mandatory **TIFF** slip upload in Documents overlay.  
- Auto-select **Settlement (debit) account** from investment account mapping; display **Transaction Branch Code**.  
- Show **Holding Details** (first holder, joint holders) and enable **Nominee** capture with minor flag/guardian fields on first-time subscriptions.  
- **Dividend Instruction** auto-population (Cash/Reinvest) when security is dividend-enabled; greyed out where growth/bonus.  
- **Overlays**: Scheme/Security Info, Order Info, Document Upload, Deviations.

### 2.2 Order Capture (Client Portal)

- **Terms & Conditions** page with mandatory checkbox before OTP.  
- **2FA (OTP)** popup shows **total transaction amount** and masked mobile; for inflows use CBS mobile, for additional purchases/outflows use Folio mobile/email per rules.  
- Disallow simultaneous inflow/outflow placement from Client Portal per 2FA rules.

### 2.3 Amount-Based & Full Redemption/Switch

- Support **amount-based entry** for Redemption/Switch in addition to units.  
- **Auto-calc units** from last NAV for amount-based entries; **max amount** ≤ Market Value.  
- **Full Redemption/Switch**: toggle sets “close account” flag to RTA; disables validations against min redeem/purchase; display Full Switch/Full Redemption as **read-only** in Product Cart & Order Book; do not round computation values that alter declared units.

### 2.4 Authorization & Order Book

- RM clicks **Submit** in Product Cart (replacing “Continue” where applicable).  
- Supervisor can **Claim** an order to a personal queue, then **Authorize/Reject/Release**; must capture **Reject reason**.  
- **Order Book** shows status progression and is **role-aware** (RM, Branch, non-RM).  
- **Expired** status removed as a process (see §2.6). Orders post cut-off carry **“Next day NAV applicable”** disclaimers.

### 2.5 Routing, Payments & Integrations

- **Save2** enhancements: remove NAV dependency; include **ModelOrderID** in request/response; structured success/failure; dedicated **orderId** in response.  
- **finalorderforsubmission**: add **orderPaymentReference / pgPaymentReferenceNo / paymentlinkedstatus / payremarks**; persist in Order Master and expose in Order Book (Payment Info); pass **RTARefNo** to app; ability to **mark failed** with system remarks.  
- RTA mapping and **bank fields**: map BANK\_NAME/BR\_NAME/BANK\_CITY/IFSC from Account master; enforce **conditional mandatory** logic; stamp **IP address, date (DDMMYYYY) and time (hhmmss)** for RTA logs.  
- **Fund Option / Dividend Instruction** exposed in model portfolio APIs where required.

### 2.6 Cut-off & Order Expiry Changes

- **Remove** the “auto-expire” behavior.  
- If authorized **after fund cut-off**, order is **treated as next-day**; display **cut-off disclaimers** at placement/authorization; failed fund transfer before cut-off becomes **Failed**.

### 2.7 Notifications

- **Email/SMS** to customer on **Settlement** and **Rejection** with parameterized templates; messages triggered on RTA settlement.

### 2.8 Systematic Plans (SIP/STP/SWP)

- Dashboards in Operations/RM with **status** (Active/Closed/Cancelled) and **Failed** views; filters (As-of date mandatory; RM/Customer/Systematic Type optional; multi-select support).  
- **SWP reattempt jobs**: up to three runs (e.g., initial \+ two retries before cut-off; bank error code list), then mark failed; customers can place **manual redemption** if needed.  
- **Setup/Modify/Cancel** flows mirror Ops Office fields (Amount, Frequency, Start/End dates, No. of installments, Day/Date/Month logic).

### 2.9 SEBI Nominee Changes (Phase-1)

- Apply **physical vs online** nomination capture and **report display** updates; add **opt-out** declaration handling; update **outbound feed** (CAMS 200, KFintech 250\) formats for nominee metadata.

### 2.10 2FA (OTP) – Rules & MIS

- **Outflows** (Redemption/Switch/STP/SWP) and **Inflows** (Subscription/Additional/SIPs) require OTP per **date-effective rules**.  
- **Source of contact**: CBS mobile for inflow; Folio mobile/email for additional buys/outflows (Client Portal).  
- **MIS** for Operations: As-on-date report listing folio vs. CBS contact mismatches.

---

## 3\. Field Inventory (Screens & Overlays)

Key fields only (detailed UI tables are in Appendix A).

- **Product Selection:** Transaction Type; Amount/Units; Full Redemption/Full Switch flag; Filters (remove Islamic/Issuer; add Fund House).  
- **Product Cart (Order Card):** Investment A/C, Settlement A/C (auto), **Branch Code**, Mode of Transaction, **Nominee** (Name, DOB, Relationship, %; **Minor?** Yes/No; Guardian Name/PAN), **Dividend Instruction** (Cash/Reinvest/NA), Order Info (show **Full Switch/Full Redemption** display field).  
- **Overlays:** Scheme/Security Info (cut-off time, fund class/category, risk profile, ISIN, NAV/Indicative price & dates), Order Info, Documents (TIFF upload in Physical), Deviations.  
- **Supervisor Approval Card:** Remove non-relevant fields (Promotion Type/Rate, Total Fees, Sub-account type, etc.).  
- **Order Book:** Status, search filters, role-based visibility; include **Payment Info** (Order Payment ID, Payment Link ID, Remarks), **Model Order Number** where applicable.

---

## 4\. Validations (Consolidated)

- **RTA-facing basics:** Block special characters/numbers in investor/nominee names; suppress Guardian PAN for minor nominee where not applicable; static **Broker Code** for Karvy schemes; PAN 4th-char → Tax status mapping; Joint-holder restrictions for Minor/Corporate; no minors as joint holders; SIP start within 3 months of registration.  
- **CRISIL-driven:**  
  - **Purchase:** validate against `SCM_MIN_PURCHASE_AMT` / `SCM_ADD_MIN_PURCHASE_AMT`.  
  - **Redemption:** `SCM_MIN_REDEEM_AMT` / `SCM_MIN_REDEEM_UNITS`; balanced amount/units vs `SCM_REDEEM_MIN_BALANCE`/`SCM_MIN_REDEEM_UNITS`. **Full redemption**: bypass min validations and send **close AC \= Y** without amount/units.  
  - **SIP/SWP/STP:** validate against `SCM_SIP_MIN_AMT`, `SCM_SWP_MIN_AMT` with frequency/dates/installments.  
- **Amount-based transactions:** Max amount ≤ Market Value; unit auto-calc from last NAV; **hard stop** when amount exceeds market value.  
- **Full Switch/Redemption:** read-only in UI; RTA outbound: **close AC \= Y** and blank amount/units per integration spec; do **not** auto-round declared units.  
- **2FA/OTP:** enforce OTP flows; mask mobile; block simultaneous inflow+outflow in Client Portal.  
- **API constraints (Save2/finalorderforsubmission):** Conditional mandatory **QTY** when Full flags \= Y; IP/date/time formats; bank-name LOVs; bank fields conditional mandatory.

---

## 5\. UI/UX Guidelines

- Replace **Continue → Submit** post Order No generation; show **Order placed** confirmation.  
- Hide non-applicable fields and filters (Islamic/Issuer; promotional fields; country graphs) and add **Fund House** filter.  
- Display **Full Switch/Full Redemption** fields as **read-only** in Product Cart and Order Book.  
- **Client Portal:** Show **T\&C** page before OTP; display total transaction amount and masked mobile; provide clear validation/hard stops with helpful messages.  
- Keep **cut-off disclaimers** visible where relevant.

---

## 6\. Access Control & Entitlements

- **RM:** create/edit orders for mapped customers; view Order Book for mapped customers & makers; submit for authorization.  
- **Branch user:** view all orders where **transacting branch** matches user’s branch.  
- **Supervisor:** claim/release/authorize/reject; must enter reject reason.  
- **Operations:** download MIS/2FA reports; download **transaction slips**; manage systematic dashboards.  
- **Client:** place orders on Client Portal, perform OTP; view holdings/reports.  
- **Visibility:** Order Book is role-aware; model order number & payment info visible to RM Office as specified.  
- **Audit:** Capture IP address, date, time for order placement (logged and sent to RTA).

---

## 7\. Integrations & Interfaces (Summary)

- **Save2 API:** remove NAV dependency; add **ModelOrderID**; success/failure structure; return **orderId**.  
- **finalorderforsubmission:** add payment references & status; persist and expose in UI; pass **RTARefNo**.  
- **RTA Feeds/APIs:** CAMS/KFintech CFF with close AC, fund option/dividend instruction, bank fields, and **IP logs**.  
- **Payments:** orderPaymentReference/pgPaymentReferenceNo mapping to Order Book (Payment Info).  
- **Portfolio/Model APIs:** add fundOption/divInst in public model-portfolio where applicable.

---

## 8\. Reports & Notifications

- **Systematic Plan Status** (PDF/XLS; filters; grouped by RM; ordered by Customer → Type → AMC → Scheme → Folio).  
- **2FA MIS** (As-on-date; lists CBS vs Folio contact mismatches).  
- **Client Reports**: Holdings / One-pager / IDS / ELSS showing nominee details or “Not Opted” per SEBI changes.  
- **Email/SMS** on Settlement/Rejected per templates.

---

## 9\. Non-Functional Requirements (NFRs)

- **Security & Compliance:** OTP/2FA, audit trail, masked identifiers.  
- **Performance:** Submit/Authorize/Save2/finalorderforsubmission API p95 ≤ 2s under typical load (configurable), scheduler windows within cut-off times.  
- **Reliability:** Idempotent API handling for Save2/finalorderforsubmission; retry logic for Fund Transfer; robust reattempts for SWP job.  
- **Observability:** Structured logging (orderId, modelOrderId, rtaRefNo, payment refs), error codes, and end-to-end trace IDs.  
- **Data Quality:** Daily folio/investor master refresh; CRISIL master integrity checks.

---

## 10\. Multi-Route Order Routing (Pluggable)

- **Primary connectors:** RTA (CAMS/KFintech) per current specifications.  
- **Pluggable Adapter:** Define an interface for additional processors (e.g., exchange platforms) without changing core flows; route selection is rule-driven (scheme/transaction type/availability).  
- **Note:** Exact exchange-platform field specs are not part of the provided documents and are deferred to a future connector spec.

---

## Appendix A – Detailed Field Lists (Condensed Extract)

- **Nominee (first-time subscription):** Name, DOB, Relationship, Allocation %, Minor? (Y/N), Guardian Name, Guardian PAN; Add Multiple (sum % \= 100).  
- **Holding Pattern:** First holder name/DOB/PAN; Joint holder 1 & 2 where applicable (display).  
- **Scheme/Security Info Overlay:** Cut-off time, fund class/category, risk profile, ISIN, indicative/NAV dates/values.  
- **Order Info Overlay:** Show “Amount/Unit-based” and Full Switch/Redemption fields (read-only) per order.  
- **Payment Info (Order Book):** Order payment ID, Payment Link ID, Remarks.

---

## Requirement-to-Source Traceability (Top-Level)

(Full matrix delivered as a separate CSV file)

- 2FA flows & MIS → 2FA Solution Document (2022 \+ 2023/2024 updates).  
- Amount-based & Full Redemption/Switch → Amount-based specs; Full Switch solution.  
- Nominee/Holding & SEBI Phase-1 → DC\_25 Nominee & Holding; SEBI Nominee changes Phase-1.  
- Order Book visibility & statuses → SBI V10 CCV13; Supervisor approval (360ONE/HSBC).  
- RTA mapping (bank/IP/QTY) → G086 mapping sheet changes.  
- Cut-off/Expiry removal → Order Expiry changes.  
- Systematic dashboards/reattempts → G34 \+ SBI V10 sections.  
- API changes (Save2/finalorderforsubmission/model ID/payment refs) → JBR G090.

---

**End of BRD**  
